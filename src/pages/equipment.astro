---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';
import client from '../../tina/__generated__/client';

const result = await client.queries.equipment({ relativePath: 'equipment.json' });
const d = result.data.equipment;
---

<Layout title={d.seoTitle} description={d.seoDescription}>
  <Header />

  <section class="hero page-hero" style="margin-top: 102px;">
    <div class="container">
      <div class="hero-content">
        <span class="hero-badge">{d.heroBadge}</span>
        <h1>{d.heroTitle} <span class="highlight">{d.heroHighlight}</span> Sales</h1>
        <p>{d.heroDescription}</p>
        <div class="hero-buttons">
          <a href={d.heroCta1Link} class="btn btn-primary">{d.heroCta1Text}</a>
          <a href={d.heroCta2Link} class="btn btn-outline">{d.heroCta2Text}</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div class="section-header section-header--center">
        <h2 class="section-title section-title--center">Equipment We Sell</h2>
        <p class="section-subtitle">Whether you need one unit or a full fleet, we'll find the right equipment for your operation at the right price.</p>
      </div>
      <div class="services-grid">
        {d.equipCards?.map((card: any) => (
          <div class="service-card">
            {card.badge && <span class="service-label">{card.badge}</span>}
            <h3>{card.title}</h3>
            <p>{card.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Image break -->
  <div class="image-banner" style={`background-image: url('${d.bannerImage}');`}>
    <div class="container">
      <h2>{d.bannerHeading}</h2>
      <p>{d.bannerText}</p>
    </div>
  </div>

  <!-- Inventory placeholder -->
  <section class="section why-section" id="inventory">
    <div class="container">
      <div class="section-header section-header--center">
        <h2 class="section-title section-title--center">{d.inventoryHeading}</h2>
        <p class="section-subtitle">{d.inventorySubtitle}</p>
      </div>
      <div style="text-align: center; padding: 3rem; background: var(--white); border: 1px solid var(--border);">
        <h3 style="color: var(--navy); margin-bottom: 0.75rem; font-size: 1.125rem;">Inventory Listings Coming Soon</h3>
        <p style="color: var(--gray); max-width: 480px; margin: 0 auto 1.5rem; font-size: 0.9375rem;">{d.inventoryPlaceholder}</p>
        <a href="/contact" class="btn btn-primary">Ask About Available Equipment</a>
      </div>
    </div>
  </section>

  <!-- Why buy from us -->
  <section class="section">
    <div class="container">
      <div class="section-header section-header--center">
        <h2 class="section-title section-title--center">Why Buy From Lift Pros</h2>
      </div>
      <div class="why-grid">
        {d.whyBuyCards?.map((card: any, i: number) => (
          <div class="why-card">
            <div class="why-number">{String(i + 1).padStart(2, '0')}</div>
            <div>
              <h3>{card.title}</h3>
              <p>{card.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="cta-banner">
    <div class="container">
      <div>
        <h2>{d.ctaHeading}</h2>
        <p>{d.ctaText}</p>
      </div>
      <div class="cta-actions">
        <a href="/contact" class="btn btn-primary">Request a Quote</a>
        <a href="tel:5594839300" class="btn btn-outline">Call Now</a>
      </div>
    </div>
  </section>

  <Footer />
</Layout>
